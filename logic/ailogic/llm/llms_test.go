package llm

import (
	"context"
	"os"
	"testing"

	"github.com/stretchr/testify/assert"
	"github.com/tmc/langchaingo/llms"
	gh "gitlab.dev.ict/golang/libs/gohttp"
	"gitlab.dev.ict/golang/libs/gologgers"
	"gitlab.dev.ict/golang/libs/gologgers/applogger"
)

var (
	log    = gologgers.New(gologgers.WithColor(), gologgers.WithOC(), gologgers.WithLevel("trace"))
	logr   = applogger.NewLogCfgDef().WithColor(true).WithLevel("trace").WithMaxLength(2000).NewLogger()
	logCFG = applogger.NewLogCfgDef().WithColor(true).WithLevel("trace").WithMaxLength(2000)
)

const sslCertPath = "../../../Astelit-RootCA.pem"

func TestOpenAiExtended(t *testing.T) {

	t.Run("dummy", func(t *testing.T) {
		t.Log(os.Getwd())
		t.Log(os.Stat("Astelit-RootCA.pem"))
		t.Log(os.Stat("../../../Astelit-RootCA.pem"))
	})
	t.Run("GROQ-PROXY-SSL", func(t *testing.T) {
		llm := GroqAI(log, gh.New().WithLogger(log).WithTimeout(300).WithProxy(gh.ProxyAstelit).WithISV().Build().Client)
		resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, "Hello! My name is Dima :)", llms.WithMaxTokens(100))
		assert.NoError(t, err)
		t.Log("RESP =>", resp)
	})

	t.Run("GROQ-PROXY-SSL-DEF", func(t *testing.T) {
		llm := GroqAI(log, gh.New().WithLogger(logCFG).WithSSLPath(SslPath).WithProxy(gh.ProxyAstelit).Build().Client)
		resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, "Hello! My name is Dima :)", llms.WithMaxTokens(100))
		assert.NoError(t, err)
		t.Log("RESP =>", resp)
	})

	t.Run("PROXY-CUSTOM_SSL", func(t *testing.T) {
		llm := OpenAI(GPT_4o, log, gh.New().WithLogger(log).WithSSLPath(sslCertPath).WithProxy(gh.ProxyAstelit).Build().Client)
		resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, "Hello! My name is Dima :)", llms.WithMaxTokens(100))
		assert.NoError(t, err)
		t.Log("RESP =>", resp)
	})

	t.Run("PROXY", func(t *testing.T) {
		llm := OpenAI(GPT_4o, log, gh.New().WithLogger(log).WithProxy(gh.ProxyAstelit).Build().Client)
		resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, "Hello! My name is Dima :)", llms.WithMaxTokens(100))
		assert.NoError(t, err)
		t.Log("RESP =>", resp)
	})

	t.Run("PROXY-SSL", func(t *testing.T) {
		llm := OpenAI(GPT_4o, log, gh.New().WithLogger(log).WithSSLPath(SslPath).WithProxy(gh.ProxyAstelit).Build().Client)
		resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, "Hello! My name is Dima :)", llms.WithMaxTokens(100))
		assert.NoError(t, err)
		t.Log("RESP =>", resp)
	})
	t.Run("OPENAI-PROXY-SSL", func(t *testing.T) {
		llm := OpenAI(GPT_4o, log, HttpClient(logCFG, 300, SslPath, false, true))
		resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, "Hello! My name is Dima :)", llms.WithMaxTokens(100))
		assert.NoError(t, err)
		t.Log("RESP =>", resp)
	})
}

func TestOpenAiTO(t *testing.T) {

	t.Run("dummy", func(t *testing.T) {
		llm := OpenAI(GPT_4o, log, gh.New().WithLogger(log).WithProxy(gh.ProxyAstelit).Build().Client)
		// resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, sys_msg+msg, llms.WithMaxTokens(2000), llms.WithTemperature(0.75))
		// resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, sys_msg+msg_readme, llms.WithMaxTokens(500), llms.WithTemperature(0.75))
		resp, err := llms.GenerateFromSinglePrompt(context.Background(), llm, p1, llms.WithMaxTokens(500), llms.WithTemperature(0.75))
		assert.NoError(t, err)
		t.Log("#############################################################")
		t.Log("RESP =>", resp)
	})
}

const p1 = "Hello! My name is Dima :)"

const msg_readme = `\n\n\n\nPrepare comprehansive and fundamental README.md file based on db structure in you context. Documentation should be useful for both technical and non-technical users, ensuring accessibility. Include examples and detailed explanations to make the documentation practical and actionable. Write a brief description outlining the purpose of the project, its main features, and its significance. Automatically generate a table of contents for easy navigation. Please ensure that the README.md file is clear, well-structured, and easy to follow, catering to both technical and non-technical users. Use Markdown formatting to enhance readability and include any relevant code snippets, links, or images. Use emojis for better engaging.`

const msg = `\n\n# QUESTION:\n\nDeeply analyze db structure in context. Provide your opinion about it. What are the main pros and cons. What can be improved?\n\nProvide big answer with very deeply analyze. Use all your knowledge and experience. You may think as long as you need.`

const sys_msg = `"You are expert in generating sql queries for ORACLE db.\n\nMain goal: Given an input question you should generate related SQL query based on ORACLE DB structure and dict tables below\nMain rule: Don't make assumptions\n\n### Guidlines\n- Always think step-by-step and self reflect on your response\n- Don't make assumptions. Ask for clarification if a user request is ambiguous.\n- Unless the user specifies in his question a specific number of examples he wishes to obtain, always limit your query to at most 30 results('fetch ...').\n- You can order the results by a relevant column to return the most interesting examples in the database.\n- Ensure that the SQL query is valid and conforms to the syntax rules of ORACLE SQL.\n\n### Tools\n1. **SqlRunner** is a tool designed to execute SQL queries on an Oracle database.\n\tImportant notes:\n\t- Input Format: JSON object\n\t- SqlRunner will execute the query as-is, so the LLM must generate accurate and safe SQL queries.\n\t- Handle potential SQL injection risks by properly sanitizing and validating user input before forming the SQL query.\n\t- Use only when the user explicitly asks to get data from the database. If the user query is about how to obtain data or generate SQL queries without requesting actual data retrieval, the LLM should generate the SQL query but not call the SqlRunner tool.\n\n\n### ORACLE DB structure:\n\n\"\"\"\nTable: CM_ACCOUNT_ATTRIBUTE (912947 rows)\nColumns:\n - ACCOUNT_CODE NUMBER(22) NOT NULL\n - ATTRIBUTE_TYPE_CODE VARCHAR2(255) NOT NULL\n - VALUE VARCHAR2(1000) NOT NULL\nConstraints:\n - Foreign Keys:\n   - ACCOUNT_CODE (Constraint: FKCM_ACCOUNT562417, Referenced Table: CM_CUSTOMER_ACCOUNT, Referenced Column: CODE)\n   - ATTRIBUTE_TYPE_CODE (Constraint: FKCM_ACCOUNT905379, Referenced Table: CM_ATTRIBUTE_TYPE, Referenced Column: CODE)\n - Unique Constraints:\n   - ACCOUNT_CODE_AND_ATR_UNQ:\n     - ACCOUNT_CODE (Position: 1)\n     - ATTRIBUTE_TYPE_CODE (Position: 2)\n   - UK_ACC_ATTR:\n     - ACCOUNT_CODE (Position: 1)\n     - ATTRIBUTE_TYPE_CODE (Position: 2)\n     - VALUE (Position: 3)\n\nTable: CM_ACCOUNT_TYPE (5 rows)\nColumns:\n - CODE VARCHAR2(50) NOT NULL\n - PARENT_CODE VARCHAR2(50)\n - DESCRIPTION VARCHAR2(1000)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - PARENT_CODE (Constraint: FKCM_ACCOUNT778984, Referenced Table: CM_ACCOUNT_TYPE, Referenced Column: CODE)\n\nTable: CM_ADDRESS (111076 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - ADR_TYPE_CODE VARCHAR2(32) NOT NULL\n - IS_CUSTOM VARCHAR2(1)\n - ADR_COUNTRY_CODE VARCHAR2(16)\n - ADR_POSTCODE VARCHAR2(16)\n - ADR_REGION_CODE VARCHAR2(16)\n - ADR_DISTRICT_CODE VARCHAR2(16)\n - ADR_CITY_TYPE_CODE VARCHAR2(16)\n - ADR_CITY_CODE VARCHAR2(16)\n - ADR_STREET_TYPE_CODE VARCHAR2(16)\n - ADR_STREET_NAME VARCHAR2(128)\n - ADR_BUILDING_NO VARCHAR2(128)\n - ADR_APPS_NO VARCHAR2(128)\n - ADR_CUSTOM_LINE VARCHAR2(1000)\n - ADR_COMMENTS VARCHAR2(4000)\n - ADR_PRINTLINE VARCHAR2(4000)\n - ADR_PHONE VARCHAR2(128)\n - ADR_EMAIL VARCHAR2(128)\n - CREATE_TS TIMESTAMP(6)(11)\n - CREATE_AGENT VARCHAR2(128)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Check Constraints:\n   - IS_CUSTOM (Condition: IS_CUSTOM = 'Y' OR IS_CUSTOM IS NULL)\n\nTable: CM_ADDRESS_CHG (170714 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - ACCOUNT_CODE NUMBER(22)\n - VALID_FROM_TS TIMESTAMP(6)(11)\n - VALID_TO_TS TIMESTAMP(6)(11)\n - ADR_TYPE_CODE VARCHAR2(32) NOT NULL\n - IS_CUSTOM VARCHAR2(1)\n - ADR_COUNTRY_CODE VARCHAR2(16)\n - ADR_POSTCODE VARCHAR2(16)\n - ADR_REGION_CODE VARCHAR2(16)\n - ADR_DISTRICT_CODE VARCHAR2(16)\n - ADR_CITY_TYPE_CODE VARCHAR2(16)\n - ADR_CITY_CODE VARCHAR2(16)\n - ADR_STREET_TYPE_CODE VARCHAR2(16)\n - ADR_STREET_NAME VARCHAR2(128)\n - ADR_BUILDING_NO VARCHAR2(128)\n - ADR_APPS_NO VARCHAR2(128)\n - ADR_CUSTOM_LINE VARCHAR2(1000)\n - ADR_COMMENTS VARCHAR2(4000)\n - ADR_PRINTLINE VARCHAR2(4000)\n - ADR_PHONE VARCHAR2(128)\n - ADR_EMAIL VARCHAR2(128)\n - CREATE_AGENT VARCHAR2(128)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Check Constraints:\n   - IS_CUSTOM (Condition: is_custom = 'Y' or is_custom is null)\n\nTable: CM_ATTRIBUTE_TYPE (95 rows)\nColumns:\n - ATRRIBUTE_CATEGORY VARCHAR2(100) NOT NULL\n - DEFAULT_VALUE VARCHAR2(1000)\n - DESCRIPTION VARCHAR2(1000)\n - CODE VARCHAR2(255) NOT NULL\n - VALUE_TYPE VARCHAR2(255) NOT NULL\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n\nTable: CM_CAMPUS_PROD (19266 rows)\nColumns:\n - CODE NUMBER(22)\n - CUSTOMER_CODE NUMBER(22)\n - DOCUMENT_CODE NUMBER(22)\n - DOCUMENT_TYPE_CODE CLOB(4000)\n - DOCUMENT_SERIES CLOB(4000)\n - DOCUMENT_NUMBER NUMBER(22)\n - DOCUMENT_DATE CLOB(4000)\n - DOCUMENT_EXPIRY_DATE CLOB(4000)\n - DOCUMENT_AUTHORITY CLOB(4000)\n - PARENT_CODE CLOB(4000)\n - IS_VALIDATED CLOB(4000)\n - ELF_DOC_ID CLOB(4000)\n - PARENT_TYPE CLOB(4000)\n - DESCRIPTION CLOB(4000)\n - IS_SERIES CLOB(4000)\n - IS_NUMBER CLOB(4000)\n - FIRST_NAME CLOB(4000)\n - LAST_NAME CLOB(4000)\n - MIDDLE_NAME CLOB(4000)\n - BIRTHDAY CLOB(4000)\nConstraints:\n\nTable: CM_CAMPUS_PROD_2 (19266 rows)\nColumns:\n - CODE NUMBER(22)\n - CUSTOMER_CODE NUMBER(22)\n - DOCUMENT_CODE NUMBER(22)\n - DOCUMENT_TYPE_CODE CLOB(4000)\n - DOCUMENT_SERIES CLOB(4000)\n - DOCUMENT_NUMBER NUMBER(22)\n - DOCUMENT_DATE CLOB(4000)\n - DOCUMENT_EXPIRY_DATE CLOB(4000)\n - DOCUMENT_AUTHORITY CLOB(4000)\n - PARENT_CODE CLOB(4000)\n - IS_VALIDATED CLOB(4000)\n - ELF_DOC_ID CLOB(4000)\n - PARENT_TYPE CLOB(4000)\n - DESCRIPTION CLOB(4000)\n - IS_SERIES CLOB(4000)\n - IS_NUMBER CLOB(4000)\n - FIRST_NAME CLOB(4000)\n - LAST_NAME CLOB(4000)\n - MIDDLE_NAME CLOB(4000)\n - BIRTHDAY CLOB(4000)\nConstraints:\n\nTable: CM_CONTACT_PERSON (140 rows)\nColumns:\n - CM_LEGAL_CODE NUMBER(22) NOT NULL\n - CM_CONTACT_PERSON_CODE NUMBER(22) NOT NULL\n - ACCOUNT_CODE NUMBER(22)\nConstraints:\n - Foreign Keys:\n   - CM_LEGAL_CODE (Constraint: CM_CONTACT_PERSONS_LEGAL_FK, Referenced Table: CM_CUSTOMER_LEGAL, Referenced Column: CODE)\n   - ACCOUNT_CODE (Constraint: CM_CONTACT_PERSON_ACC_C_FK, Referenced Table: CM_CUSTOMER_ACCOUNT, Referenced Column: CODE)\n   - CM_CONTACT_PERSON_CODE (Constraint: CM_CONTACT_PERSONS_IND_FK, Referenced Table: CM_CUSTOMER_INDIVIDUAL, Referenced Column: CODE)\n - Unique Constraints:\n   - CM_CONTACT_UQ:\n     - CM_LEGAL_CODE (Position: 1)\n     - CM_CONTACT_PERSON_CODE (Position: 2)\n     - ACCOUNT_CODE (Position: 3)\n\nTable: CM_CUSTOMER (42582 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CUSTOMER_TYPE VARCHAR2(100) NOT NULL\n - CUSTOMER_STATE VARCHAR2(100) NOT NULL\n - ENTRY_DATE DATE(7) NOT NULL\n - CHANNEL VARCHAR2(16)\n - AGENT VARCHAR2(256)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - CUSTOMER_TYPE (Constraint: CUSTOMER_TYPE_FK, Referenced Table: CM_CUSTOMER_TYPE, Referenced Column: CODE)\n   - CUSTOMER_STATE (Constraint: CUSTOMER_STATE_FK, Referenced Table: CM_CUSTOMER_STATE, Referenced Column: CODE)\n\nTable: CM_CUSTOMER_ACCOUNT (150988 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - ACCOUNT_TYPE_CODE VARCHAR2(50) NOT NULL\n - REFERENCE VARCHAR2(255) NOT NULL\n - ACCOUNT_CREATION_DATE DATE(7) NOT NULL\n - LINK_CHANNEL VARCHAR2(16)\n - LINK_AGENT VARCHAR2(256)\n - ACCOUNT_EXPIRY_DATE DATE(7)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - CUSTOMER_CODE (Constraint: FKCM_CUSTOME336198, Referenced Table: CM_CUSTOMER, Referenced Column: CODE)\n   - ACCOUNT_TYPE_CODE (Constraint: FKCM_CUSTOME909496, Referenced Table: CM_ACCOUNT_TYPE, Referenced Column: CODE)\n - Unique Constraints:\n   - UK_CUST_ACC:\n     - ACCOUNT_TYPE_CODE (Position: 1)\n     - REFERENCE (Position: 2)\n\nTable: CM_CUSTOMER_ADDRESS (202265 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - ADDRESS_CODE NUMBER(22) NOT NULL\n - ACCOUNT_CODE NUMBER(22)\n - ADR_TYPE_CODE VARCHAR2(32) NOT NULL\n - ADR_DATE DATE(7)\n - AGENT VARCHAR2(256)\n - CHANNEL VARCHAR2(16)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - ACCOUNT_CODE (Constraint: SYS_C00103945, Referenced Table: CM_CUSTOMER_ACCOUNT, Referenced Column: CODE)\n   - ADDRESS_CODE (Constraint: SYS_C00103946, Referenced Table: CM_ADDRESS, Referenced Column: CODE)\n   - CUSTOMER_CODE (Constraint: SYS_C00103947, Referenced Table: CM_CUSTOMER, Referenced Column: CODE)\n - Unique Constraints:\n   - UK_CM_ACC_TYPE_ADDR:\n     - CUSTOMER_CODE (Position: 1)\n     - ACCOUNT_CODE (Position: 2)\n     - ADR_TYPE_CODE (Position: 3)\n   - UK_CM_CUST_ADDR:\n     - ADDRESS_CODE (Position: 1)\n     - CUSTOMER_CODE (Position: 2)\n     - ACCOUNT_CODE (Position: 3)\n\nTable: CM_CUSTOMER_ATTRIBUTE (213975 rows)\nColumns:\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - ATTRIBUTE_TYPE_CODE VARCHAR2(255) NOT NULL\n - VALUE VARCHAR2(1000) NOT NULL\nConstraints:\n - Foreign Keys:\n   - ATTRIBUTE_TYPE_CODE (Constraint: FKCM_CUSTOME139040, Referenced Table: CM_ATTRIBUTE_TYPE, Referenced Column: CODE)\n   - CUSTOMER_CODE (Constraint: FKCM_CUSTOME472517, Referenced Table: CM_CUSTOMER, Referenced Column: CODE)\n - Unique Constraints:\n   - CUSTOMER_CODE_AND_ATR_UNQ:\n     - CUSTOMER_CODE (Position: 1)\n     - ATTRIBUTE_TYPE_CODE (Position: 2)\n   - UK_CUST_ATTR:\n     - CUSTOMER_CODE (Position: 1)\n     - ATTRIBUTE_TYPE_CODE (Position: 2)\n     - VALUE (Position: 3)\n\nTable: CM_CUSTOMER_DOCUMENT (31396 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - DOCUMENT_CODE NUMBER(22) NOT NULL\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - DOCUMENT_CODE (Constraint: FKCM_CUSTOME365294, Referenced Table: CM_DOCUMENT, Referenced Column: CODE)\n   - CUSTOMER_CODE (Constraint: FKCM_CUSTOME597124, Referenced Table: CM_CUSTOMER, Referenced Column: CODE)\n - Unique Constraints:\n   - UK_CM_CUST_DOC:\n     - CUSTOMER_CODE (Position: 1)\n     - DOCUMENT_CODE (Position: 2)\n\nTable: CM_CUSTOMER_INDIVIDUAL (25282 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - FIRST_NAME VARCHAR2(100) NOT NULL\n - MIDDLE_NAME VARCHAR2(100)\n - LAST_NAME VARCHAR2(100) NOT NULL\n - BIRTHDAY DATE(7)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - CODE (Constraint: CM_INDIVIDUAL_FK, Referenced Table: CM_CUSTOMER, Referenced Column: CODE)\n\nTable: CM_CUSTOMER_LEGAL (16610 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - EDRPOU VARCHAR2(100) NOT NULL\n - NAME VARCHAR2(4000) NOT NULL\n - CREATION_DATE DATE(7)\n - EXPIRY_DATE DATE(7)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - CODE (Constraint: CM_LEGAL_FK, Referenced Table: CM_CUSTOMER, Referenced Column: CODE)\n - Unique Constraints:\n   - CM_EDRPOU_UQ:\n     - EDRPOU (Position: 1)\n\nTable: CM_CUSTOMER_STATE (6 rows)\nColumns:\n - CODE VARCHAR2(50) NOT NULL\n - NAME_EN VARCHAR2(100)\n - NAME_UA VARCHAR2(100)\n - DESCRIPTION VARCHAR2(1000)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n\nTable: CM_CUSTOMER_TYPE (4 rows)\nColumns:\n - CODE VARCHAR2(50) NOT NULL\n - PARENT_CODE VARCHAR2(50)\n - NAME_EN VARCHAR2(100)\n - NAME_UA VARCHAR2(100)\n - DESCRIPTION VARCHAR2(1000)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - PARENT_CODE (Constraint: CM_CUSTOMER_TYPE_FK, Referenced Table: CM_CUSTOMER_TYPE, Referenced Column: CODE)\n\nTable: CM_DICT_GENDER (3 rows)\nColumns:\n - CODE VARCHAR2(1) NOT NULL\n - CODE_UA VARCHAR2(32)\n - CODE_EN VARCHAR2(32)\n - CODE_RU VARCHAR2(32)\n - DESCRIPTION VARCHAR2(512)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n\nTable: CM_DICT_NAMES (4216 rows)\nColumns:\n - NAME VARCHAR2(128) NOT NULL\n - GENDER VARCHAR2(1) NOT NULL\n - UKR VARCHAR2(128)\n - UKR_CALL VARCHAR2(128)\n - ENG VARCHAR2(64)\n - RUS VARCHAR2(128)\nConstraints:\n - Primary Keys:\n   - NAME (Position: 1)\n   - GENDER (Position: 2)\n - Foreign Keys:\n   - GENDER (Constraint: CM_DICT_NAMES_GEN_FK, Referenced Table: CM_DICT_GENDER, Referenced Column: CODE)\n\nTable: CM_DICT_NAMES_BKP (4079 rows)\nColumns:\n - NAME VARCHAR2(128) NOT NULL\n - GENDER VARCHAR2(1) NOT NULL\n - UKR VARCHAR2(128)\n - UKR_CALL VARCHAR2(128)\n - ENG VARCHAR2(64)\n - RUS VARCHAR2(128)\nConstraints:\n\nTable: CM_DICT_NAMES_TMP (344 rows)\nColumns:\n - NAME VARCHAR2(128) NOT NULL\n - GENDER VARCHAR2(1) NOT NULL\n - UKR VARCHAR2(128)\n - UKR_CALL VARCHAR2(128)\n - ENG VARCHAR2(64)\n - RUS VARCHAR2(128)\nConstraints:\n\nTable: CM_DICT_REL_TYPE (3 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - REL_TYPE VARCHAR2(256) NOT NULL\n - REL_TO_TYPE VARCHAR2(256) NOT NULL\n - REL_FROM_TYPE VARCHAR2(256) NOT NULL\n - REL_DURATION VARCHAR2(32)\n - DESCRIPTION VARCHAR2(2064)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Unique Constraints:\n   - REL_TYPE_UNIQ:\n     - REL_TYPE (Position: 1)\n - Check Constraints:\n   - REL_DURATION (Condition:  REGEXP_LIKE(REL_DURATION,'^\\d{1,9}\\s\\d{1,2}:\\d{1,2}:\\d{1,2}(\\.\\d{1,9})?$') )\n\nTable: CM_DICT_SEGMENT (9 rows)\nColumns:\n - TYPE_CODE NUMBER(22) NOT NULL\n - CODE_NAME VARCHAR2(32) NOT NULL\n - NAME_UA VARCHAR2(128) NOT NULL\n - NAME_EN VARCHAR2(128) NOT NULL\n - NAME_RU VARCHAR2(128) NOT NULL\n - DESCRIPTION VARCHAR2(512)\n - CODE NUMBER(22) NOT NULL\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - TYPE_CODE (Constraint: CM_DICT_SEGMENT_FK, Referenced Table: CM_DICT_SEGMENT_TYPE, Referenced Column: CODE)\n\nTable: CM_DICT_SEGMENT_RULES (6 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - NUMBER_OF_EMPLOYEES NUMBER(22)\n - ANNUAL_TURNOVER NUMBER(22)\nConstraints:\n - Foreign Keys:\n   - CODE (Constraint: CM_D_S_RULES_SEG_CODE_FK, Referenced Table: CM_DICT_SEGMENT, Referenced Column: CODE)\n\nTable: CM_DICT_SEGMENT_TYPE (2 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CODE_NAME VARCHAR2(32) NOT NULL\n - DESCRIPTION VARCHAR2(512)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n\nTable: CM_DICT_SUB_SEGMENT (5 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CHILD_CODE NUMBER(22) NOT NULL\n - PARENT_CODE NUMBER(22) NOT NULL\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - CHILD_CODE (Constraint: CM_DICT_S_S_CHILD_FK, Referenced Table: CM_DICT_SEGMENT, Referenced Column: CODE)\n   - PARENT_CODE (Constraint: CM_DICT_S_S_PARENT_FK, Referenced Table: CM_DICT_SEGMENT, Referenced Column: CODE)\n\nTable: CM_DOCUMENT (31397 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - PARENT_CODE NUMBER(22)\n - DOCUMENT_TYPE_CODE VARCHAR2(50) NOT NULL\n - DOCUMENT_SERIES VARCHAR2(10)\n - DOCUMENT_NUMBER VARCHAR2(37)\n - DOCUMENT_DATE DATE(7)\n - DOCUMENT_EXPIRY_DATE DATE(7)\n - DOCUMENT_AUTHORITY VARCHAR2(1000)\n - IS_VALIDATED VARCHAR2(2) NOT NULL\n - ELF_DOC_ID VARCHAR2(64)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - PARENT_CODE (Constraint: FKCM_DOCUMEN439517, Referenced Table: CM_DOCUMENT, Referenced Column: CODE)\n   - DOCUMENT_TYPE_CODE (Constraint: FKCM_DOCUMEN75449, Referenced Table: CM_DOCUMENT_TYPE, Referenced Column: CODE)\n\nTable: CM_DOCUMENT_ATTRIBUTE (0 rows)\nColumns:\n - DOCUMENT_CODE NUMBER(22) NOT NULL\n - ATTRIBUTE_TYPE_CODE VARCHAR2(255) NOT NULL\n - VALUE VARCHAR2(1000) NOT NULL\nConstraints:\n - Foreign Keys:\n   - DOCUMENT_CODE (Constraint: FKCM_DOCUMEN351697, Referenced Table: CM_DOCUMENT, Referenced Column: CODE)\n   - ATTRIBUTE_TYPE_CODE (Constraint: FKCM_DOCUMEN786389, Referenced Table: CM_ATTRIBUTE_TYPE, Referenced Column: CODE)\n - Unique Constraints:\n   - UK_CM_DOC:\n     - DOCUMENT_CODE (Position: 1)\n     - ATTRIBUTE_TYPE_CODE (Position: 2)\n     - VALUE (Position: 3)\n\nTable: CM_DOCUMENT_HIST (490 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - DATE_FROM DATE(7)\n - DATE_TO DATE(7) NOT NULL\n - OP_TYPE VARCHAR2(1) NOT NULL\n - DOCUMENT_CODE NUMBER(22) NOT NULL\n - PARENT_CODE NUMBER(22)\n - DOCUMENT_TYPE_CODE VARCHAR2(50)\n - DOCUMENT_SERIES VARCHAR2(10)\n - DOCUMENT_NUMBER VARCHAR2(20)\n - DOCUMENT_DATE DATE(7)\n - DOCUMENT_EXPIRY_DATE DATE(7)\n - DOCUMENT_AUTHORITY VARCHAR2(1000)\n - IS_VALIDATED VARCHAR2(2)\n - ELF_DOC_ID NUMBER(22)\n - AGENT VARCHAR2(128)\n - REASON VARCHAR2(256)\n - CHANNEL VARCHAR2(16)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Check Constraints:\n   - OP_TYPE (Condition:  op_type IN (\n      'U',\n      'D'\n   ) )\n\nTable: CM_DOCUMENT_TYPE (36 rows)\nColumns:\n - CODE VARCHAR2(50) NOT NULL\n - PARENT_CODE VARCHAR2(50)\n - DESCRIPTION VARCHAR2(1000)\n - IS_SERIES VARCHAR2(1)\n - IS_NUMBER VARCHAR2(1)\n - IS_FOR_CONTRACT VARCHAR2(1)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - PARENT_CODE (Constraint: FKCM_DOCUMEN84798, Referenced Table: CM_DOCUMENT_TYPE, Referenced Column: CODE)\n - Check Constraints:\n   - IS_SERIES (Condition: IS_SERIES IN ('Y','N'))\n   - IS_NUMBER (Condition: IS_NUMBER IN ('Y','N'))\n   - IS_FOR_CONTRACT (Condition: IS_FOR_CONTRACT IN ('Y','N'))\n\nTable: CM_EDBO_DOCS_TMP (19266 rows)\nColumns:\n - SYS_CODE NUMBER(22)\n - SYS_DATE TIMESTAMP(6)(11)\n - DOCUMENT_SERIES VARCHAR2(200)\n - DOCUMENT_NUMBER VARCHAR2(200)\n - PERSON_DOCUMENT_TYPE_NAME VARCHAR2(200)\n - CHECK_STATUS VARCHAR2(200)\n - ERROR_MESSAGE VARCHAR2(400)\n - EXPIRE_DATE VARCHAR2(200)\n - ROW_COUNT NUMBER(22)\n - UNIVERSITY_NAME VARCHAR2(2000)\nConstraints:\n\nTable: CM_FIELDS_ALTERNATIVE (28 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - PARENT_CODE NUMBER(22)\n - NAME VARCHAR2(128) NOT NULL\n - OP_NAME VARCHAR2(128)\n - LOCATION VARCHAR2(128)\n - DEFAULT_VALUE VARCHAR2(1024)\n - ENTITY_NAME VARCHAR2(32)\n - SQL_QUERY VARCHAR2(2048)\n - IS_ALTER VARCHAR2(1)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - PARENT_CODE (Constraint: SYS_C00103047, Referenced Table: CM_FIELDS_ALTERNATIVE, Referenced Column: CODE)\n - Check Constraints:\n   - IS_ALTER (Condition: IS_ALTER IN ('Y','N'))\n\nTable: CM_FS_ACCOUNTS (109128 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - ACCOUNT_TYPE_CODE VARCHAR2(50) NOT NULL\n - REFERENCE VARCHAR2(255) NOT NULL\n - MSISDN VARCHAR2(255)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - CODE (Constraint: CM_FS_ACCOUNTS_CODE_FK, Referenced Table: CM_CUSTOMER_ACCOUNT, Referenced Column: CODE)\n   - ACCOUNT_TYPE_CODE (Constraint: CM_FS_ACCOUNTS_TT_FK, Referenced Table: CM_ACCOUNT_TYPE, Referenced Column: CODE)\n\nTable: CM_FS_CONTRACTS (4879 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - ACCOUNT_TYPE_CODE VARCHAR2(50) NOT NULL\n - REFERENCE VARCHAR2(255) NOT NULL\n - CONTRACT_NO VARCHAR2(255)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - CODE (Constraint: CM_FS_CONTRACTS_CODE_FK, Referenced Table: CM_CUSTOMER_ACCOUNT, Referenced Column: CODE)\n   - ACCOUNT_TYPE_CODE (Constraint: CM_FS_CONTRACTS_TT_FK, Referenced Table: CM_ACCOUNT_TYPE, Referenced Column: CODE)\n\nTable: CM_HISTORY_DOCUMENTS (17005 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CHANGE_DATE DATE(7)\n - OP_TYPE VARCHAR2(1) NOT NULL\n - LINK_CODE NUMBER(22)\n - CUSTOMER_CODE NUMBER(22)\n - DOCUMENT_CODE NUMBER(22)\n - PARENT_CODE NUMBER(22)\n - DOCUMENT_TYPE_CODE VARCHAR2(50)\n - DOCUMENT_SERIES VARCHAR2(10)\n - DOCUMENT_NUMBER VARCHAR2(20)\n - DOCUMENT_DATE DATE(7)\n - DOCUMENT_EXPIRY_DATE DATE(7)\n - DOCUMENT_AUTHORITY VARCHAR2(1000)\n - IS_VALIDATED VARCHAR2(2)\n - ELF_DOC_ID VARCHAR2(64)\n - AGENT VARCHAR2(128)\n - CHANNEL VARCHAR2(16)\n - REASON VARCHAR2(256)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Check Constraints:\n   - OP_TYPE (Condition:  op_type IN (\n    'U',\n    'D',\n    'I'\n  ))\n\nTable: CM_HST_ACCOUNT (252675 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - OP_DATE DATE(7) NOT NULL\n - OP_TYPE VARCHAR2(16) NOT NULL\n - ACCOUNT_CODE NUMBER(22)\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - ACCOUNT_ID VARCHAR2(256)\n - ACCOUNT_CREATION_DATE DATE(7)\n - CHANNEL VARCHAR2(16)\n - AGENT VARCHAR2(256)\n - REASON VARCHAR2(1024)\n - TR_ID VARCHAR2(256)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - OP_TYPE (Constraint: CM_HST_OP_TYPE__FK, Referenced Table: CM_HST_OP_TYPE, Referenced Column: OP_TYPE)\n\nTable: CM_HST_ADDRESS (472514 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - OP_DATE DATE(7) NOT NULL\n - OP_TYPE VARCHAR2(16) NOT NULL\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - ACCOUNT_CODE NUMBER(22)\n - ACCOUNT_NUMBER VARCHAR2(16)\n - ADR_TYPE_CODE VARCHAR2(32) NOT NULL\n - IS_CUSTOM VARCHAR2(1)\n - ADR_COUNTRY_CODE VARCHAR2(16)\n - ADR_POSTCODE VARCHAR2(16)\n - ADR_REGION_CODE VARCHAR2(16)\n - ADR_DISTRICT_CODE VARCHAR2(16)\n - ADR_CITY_TYPE_CODE VARCHAR2(16)\n - ADR_CITY_CODE VARCHAR2(16)\n - ADR_STREET_TYPE_CODE VARCHAR2(16)\n - ADR_STREET_NAME VARCHAR2(128)\n - ADR_BUILDING_NO VARCHAR2(128)\n - ADR_APPS_NO VARCHAR2(128)\n - ADR_CUSTOM_LINE VARCHAR2(1000)\n - ADR_COMMENTS VARCHAR2(4000)\n - ADR_PRINTLINE VARCHAR2(4000)\n - ADR_PHONE VARCHAR2(128)\n - ADR_EMAIL VARCHAR2(128)\n - AGENT VARCHAR2(256)\n - CHANNEL VARCHAR2(16)\n - REASON VARCHAR2(1024)\n - TR_ID VARCHAR2(256)\n - CHANGED_FIELDS VARCHAR2(1024)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - OP_TYPE (Constraint: SYS_C00102986, Referenced Table: CM_HST_OP_TYPE, Referenced Column: OP_TYPE)\n - Check Constraints:\n   - IS_CUSTOM (Condition: is_custom = 'Y' or is_custom is null)\n   - IS_CUSTOM (Condition: is_custom = 'Y' or is_custom is null)\n\nTable: CM_HST_ADDRESS_TEST (0 rows)\nColumns:\n - ADR_STREET_NAME VARCHAR2(128)\n - ADR_BUILDING_NO VARCHAR2(128)\n - ADR_APPS_NO VARCHAR2(128)\n - ADR_CUSTOM_LINE VARCHAR2(1000)\n - ADR_COMMENTS VARCHAR2(4000)\n - ADR_PRINTLINE VARCHAR2(4000)\n - ADR_PHONE VARCHAR2(128)\n - ADR_EMAIL VARCHAR2(128)\n - AGENT VARCHAR2(256)\n - CHANNEL VARCHAR2(16)\n - REASON VARCHAR2(1024)\n - TR_ID VARCHAR2(256)\n - CHANGED_FIELDS VARCHAR2(1024)\n - CODE NUMBER(22) NOT NULL\n - OP_DATE DATE(7) NOT NULL\n - OP_TYPE VARCHAR2(16) NOT NULL\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - ACCOUNT_CODE NUMBER(22)\n - ACCOUNT_NUMBER VARCHAR2(16)\n - ADR_TYPE_CODE VARCHAR2(32) NOT NULL\n - IS_CUSTOM VARCHAR2(1)\n - ADR_COUNTRY_CODE VARCHAR2(16)\n - ADR_POSTCODE VARCHAR2(16)\n - ADR_REGION_CODE VARCHAR2(16)\n - ADR_DISTRICT_CODE VARCHAR2(16)\n - ADR_CITY_TYPE_CODE VARCHAR2(16)\n - ADR_CITY_CODE VARCHAR2(16)\n - ADR_STREET_TYPE_CODE VARCHAR2(16)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - OP_TYPE (Constraint: CM_HST_ADR_OPTYPE_TT_FK, Referenced Table: CM_HST_OP_TYPE, Referenced Column: OP_TYPE)\n - Check Constraints:\n   - IS_CUSTOM (Condition: is_custom = 'Y' or is_custom is null)\n\nTable: CM_HST_ATTRS_ACCOUNT (1139144 rows)\nColumns:\n - HST_CODE NUMBER(22) NOT NULL\n - ATTRIBUTE_TYPE_CODE VARCHAR2(255) NOT NULL\n - VALUE VARCHAR2(1000)\nConstraints:\n - Foreign Keys:\n   - HST_CODE (Constraint: HST_ATTRS_ACC_CODE_FK, Referenced Table: CM_HST_ACCOUNT, Referenced Column: CODE)\n\nTable: CM_HST_ATTRS_CLIENT (452282 rows)\nColumns:\n - HST_CODE NUMBER(22) NOT NULL\n - ATTRIBUTE_TYPE_CODE VARCHAR2(255) NOT NULL\n - VALUE VARCHAR2(1000)\nConstraints:\n - Foreign Keys:\n   - HST_CODE (Constraint: HST_ATTRS_CL_CODE_FK, Referenced Table: CM_HST_CLIENT, Referenced Column: CODE)\n\nTable: CM_HST_CLIENT (122687 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - OP_DATE DATE(7)\n - OP_TYPE VARCHAR2(16) NOT NULL\n - CUSTOMER_CODE NUMBER(22) NOT NULL\n - CUSTOMER_TYPE VARCHAR2(100) NOT NULL\n - CUSTOMER_STATE VARCHAR2(100) NOT NULL\n - AGENT VARCHAR2(256)\n - CHANNEL VARCHAR2(16)\n - REASON VARCHAR2(1024)\n - TR_ID VARCHAR2(256)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - OP_TYPE (Constraint: CM_HST_OP_T_CL_FK, Referenced Table: CM_HST_OP_TYPE, Referenced Column: OP_TYPE)\n\nTable: CM_HST_CLIENT_DOCUMENT (188378 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - OP_DATE DATE(7) NOT NULL\n - OP_TYPE VARCHAR2(16) NOT NULL\n - LINK_CODE NUMBER(22)\n - CUSTOMER_CODE NUMBER(22)\n - DOCUMENT_CODE NUMBER(22)\n - CHANNEL VARCHAR2(16)\n - AGENT VARCHAR2(256)\n - REASON VARCHAR2(1024)\n - TR_ID VARCHAR2(256)\n - HST_PARENT NUMBER(22)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - OP_TYPE (Constraint: CM_HST_DOC_OP_TYPE__FK, Referenced Table: CM_HST_OP_TYPE, Referenced Column: OP_TYPE)\n   - HST_PARENT (Constraint: PARENT_HST_CODE_FK, Referenced Table: CM_HST_CLIENT_DOCUMENT, Referenced Column: CODE)\n\nTable: CM_HST_CLIENT_IND (85821 rows)\nColumns:\n - HST_CODE NUMBER(22) NOT NULL\n - FIRST_NAME VARCHAR2(100) NOT NULL\n - MIDDLE_NAME VARCHAR2(100)\n - LAST_NAME VARCHAR2(100) NOT NULL\n - BIRTHDAY DATE(7)\nConstraints:\n - Primary Keys:\n   - HST_CODE (Position: 1)\n - Foreign Keys:\n   - HST_CODE (Constraint: HST_CL_IND_CODE_FK, Referenced Table: CM_HST_CLIENT, Referenced Column: CODE)\n\nTable: CM_HST_CLIENT_LEG (24262 rows)\nColumns:\n - HST_CODE NUMBER(22) NOT NULL\n - EDRPOU VARCHAR2(100) NOT NULL\n - NAME VARCHAR2(4000) NOT NULL\n - CREATION_DATE DATE(7)\nConstraints:\n - Primary Keys:\n   - HST_CODE (Position: 1)\n - Foreign Keys:\n   - HST_CODE (Constraint: HST_CL_LEG_CODE_FK, Referenced Table: CM_HST_CLIENT, Referenced Column: CODE)\n\nTable: CM_HST_DOCUMENT (203794 rows)\nColumns:\n - HST_CODE NUMBER(22) NOT NULL\n - PARENT_CODE NUMBER(22)\n - DOCUMENT_TYPE_CODE VARCHAR2(50)\n - DOCUMENT_SERIES VARCHAR2(10)\n - DOCUMENT_NUMBER VARCHAR2(37)\n - DOCUMENT_DATE DATE(7)\n - DOCUMENT_EXPIRY_DATE DATE(7)\n - DOCUMENT_AUTHORITY VARCHAR2(1000)\n - IS_VALIDATED VARCHAR2(2)\n - ELF_DOC_ID VARCHAR2(64)\n - CHANGED_FIELDS VARCHAR2(1024)\nConstraints:\n - Foreign Keys:\n   - HST_CODE (Constraint: CM_HST_DOCUMENT_CODE_FK, Referenced Table: CM_HST_CLIENT_DOCUMENT, Referenced Column: CODE)\n\nTable: CM_HST_OP_TYPE (14 rows)\nColumns:\n - OP_TYPE VARCHAR2(16) NOT NULL\n - HST_CATEGORY VARCHAR2(32)\n - NAME_UA VARCHAR2(1024)\n - NAME_EN VARCHAR2(512)\n - DESCRIPTION VARCHAR2(1024)\nConstraints:\n - Primary Keys:\n   - OP_TYPE (Position: 1)\n\nTable: CM_HST_TMP_SYS (0 rows)\nColumns:\n - HST_TYPE VARCHAR2(32)\n - OP_TYPE VARCHAR2(32)\n - HST_CODE NUMBER(22)\n - TR_ID VARCHAR2(256)\n - AGENT VARCHAR2(256)\n - CHANNEL VARCHAR2(16)\n - REASON VARCHAR2(1024)\n - INFO VARCHAR2(128)\n - CUSTOMER_CODE NUMBER(22)\nConstraints:\n\nTable: CM_LOG (1715108 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - TR_ID VARCHAR2(256)\n - TR_DATE TIMESTAMP(6)(11) NOT NULL\n - F_NAME VARCHAR2(32)\n - MSG VARCHAR2(4000)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n\nTable: CM_PRIORITY_AGENT (31 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - AGENT_CODE VARCHAR2(128) NOT NULL\n - PRIORITY NUMBER(22)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n\nTable: CM_PRIORITY_AGENT_BKP (26 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - AGENT_CODE VARCHAR2(128) NOT NULL\n - PRIORITY NUMBER(22)\nConstraints:\n\nTable: CM_PRIORITY_CHANNEL (18 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - CHANNEL_CODE VARCHAR2(128) NOT NULL\n - PRIORITY NUMBER(22)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n\nTable: CM_RELATIONS_ACCOUNT (20041 rows)\nColumns:\n - CODE NUMBER(22) NOT NULL\n - REL_DATE DATE(7) NOT NULL\n - REL_TYPE NUMBER(22) NOT NULL\n - REL_TO NUMBER(22) NOT NULL\n - REL_FROM VARCHAR2(16) NOT NULL\n - AGENT VARCHAR2(256) NOT NULL\n - CHANNEL VARCHAR2(32)\n - REL_DATE_END DATE(7)\n - REASON VARCHAR2(256)\n - TR_ID VARCHAR2(256)\n - REL_COMMENT VARCHAR2(2048)\nConstraints:\n - Primary Keys:\n   - CODE (Position: 1)\n - Foreign Keys:\n   - REL_TYPE (Constraint: CM_REL_ACC_TYPE_FK, Referenced Table: CM_DICT_REL_TYPE, Referenced Column: CODE)\n\nTable: CM_SAVE_DATA_TEST (40 rows)\nColumns:\n - DATE_SAVE DATE(7)\n - SOME_NAME VARCHAR2(2048)\n - SOME_VALUE VARCHAR2(2048)\n - ANOTHER_VALUE VARCHAR2(2048)\nConstraints:\n\nTable: CM_TMP (0 rows)\nColumns:\n - NAME VARCHAR2(128) NOT NULL\n - GENDER VARCHAR2(1) NOT NULL\n - UKR VARCHAR2(128)\n - UKR_CALL VARCHAR2(128)\n - ENG VARCHAR2(64)\n - RUS VARCHAR2(128)\nConstraints:\n\n\n---\n# DICT tables:\n\n## CM_ACCOUNT_TYPE\nCODE;PARENT_CODE;DESCRIPTION\r\nBILLING;;ORGA billing accounts\r\nACCOUNT_ID;BILLING;Billing account id for prepaid subscribers\r\nKNOW_CUSTOMER;;Account with data collection\r\nMSISDN_MNP_PO;;Type for ind_pre mnp port out subscriber\r\nCON_ACCOUNT_ID;BILLING;Billing account id for contract\r\n\n## CM_ATTRIBUTE_TYPE\nCODE;VALUE_TYPE;ATRRIBUTE_CATEGORY;DEFAULT_VALUE;DESCRIPTION\r\nCOMPANY_TYPE;java.lang.String;CUSTOMER;;\r\nACCOUNT_STATE;java.lang.String;ACCOUNT;REGISTERED;Статус прылинкованого аккаунта(PRE/CON) к клиенту\r\nBMS_CONTRACT_NO;java.lang.String;ACCOUNT;;[Номер БМС контракта] для контракта типа (C)\r\nSTUDENT_STATE;java.lang.String;ACCOUNT;NOT_STUDENT;State which describe campus: NOT_STUDENT(default), ACT_STUDENT, DEACT_STUDENT\r\nCITY;java.lang.String;ACCOUNT;;\r\nUNIVERSITY;java.lang.String;ACCOUNT;;\r\nSAVE_DEBT_MNP_PO;java.lang.String;ACCOUNT;;Save msisdn/contract_no in contract/msisdn account\r\nCON_IBAN;java.lang.String;ACCOUNT;;International Bank Account Number\r\nEDUCATION_ALTER;java.lang.String;ACCOUNT;;\r\nOCCUPATION_ALTER;java.lang.String;ACCOUNT;;\r\nPHONE_HOME_ALTER;java.lang.String;ACCOUNT;;\r\nPHONE_WORK_ALTER;java.lang.String;ACCOUNT;;\r\nREGION_ALTER;java.lang.String;ACCOUNT;;\r\nCITY_ALTER;java.lang.String;ACCOUNT;;\r\nADDRESS_ALTER;java.lang.String;ACCOUNT;;\r\nNAME_SAY_ALTER;java.lang.String;ACCOUNT;;\r\nNAME_TITLE_ALTER;java.lang.String;ACCOUNT;;\r\nLAST_NAME;java.lang.String;ACCOUNT;;\r\nLAST_NAME_ALTER;java.lang.String;ACCOUNT;;\r\nMIDDLE_NAME;java.lang.String;ACCOUNT;;\r\nMIDDLE_NAME_ALTER;java.lang.String;ACCOUNT;;\r\nBEHAVIOUR;java.lang.String;ACCOUNT;;\r\nBEHAVIOUR_ALTER;java.lang.String;ACCOUNT;;\r\nTALK_LANGUAGE;java.lang.String;ACCOUNT;;\r\nTALK_LANGUAGE_ALTER;java.lang.String;ACCOUNT;;\r\nFREE_COMMENT;java.lang.String;ACCOUNT;;\r\nFREE_COMMENT_ALTER;java.lang.String;ACCOUNT;;\r\nCONTRACT_EXP_DATE;java.lang.String;ALL;;International Bank Account Number\r\nTENDER_CONTRACT;java.lang.String;ALL;;International Bank Account Number\r\nMSISDN;java.lang.String;ACCOUNT;;\r\nCONTRACT_NO;java.lang.String;ACCOUNT;;\r\nADDITIONAL_NUMBER;java.lang.String;DOCUMENT;NONE;\r\nBUSINESS_TYPE_CODE;java.lang.String;CUSTOMER;NONE;[Вид діяльності]\r\nGENDER;java.lang.String;ALL;NONE;[Стать]\r\nSETTLEMENT_ACCOUNT;java.lang.String;CUSTOMER;;[Номер розрахункового рахунку]\r\nPOWER_OF_ATTORNEY;java.lang.String;CUSTOMER;;Номер доверенности доверенного лица\r\nCON_COMPANY_NAME;java.lang.String;ACCOUNT;;[Альтернативна назва компанії] для контракта типа (C)\r\nIS_DEACTIVE;java.lang.String;CUSTOMER;;Deact contact person\r\nFIRST_NAME;java.lang.String;ALL;;Alternative FIRST_NAME\r\nEMAIL_ALTER;java.lang.String;ALL;;Alternative FIRST_NAME\r\nBIRTHDAY;java.lang.String;ALL;;Alternative BIRTHDAY\r\nTENDER_CONTRACT1;java.lang.Boolean;ALL;;Tender contract\r\nTENDER_CONTRACT2;java.lang.Boolean;ALL;0;Tender contract\r\nEMAIL_VERIFIED;java.lang.Boolean;ALL;false;Email confirmation by subscriber. Default=[FALSE]\r\nEDRPOU_PE;java.lang.String;CUSTOMER;;\r\nCON_VAT_CODE;java.lang.String;ACCOUNT;;[Індивідуальний податковий номер] для контракта (PE) и как [Альтернативний Індивідуальний податковий номер] для типа (C)\r\nCON_EDRPOU_PE;java.lang.String;ACCOUNT;;[ЄДРПОУ] для контракта с типом (PE)\r\nCON_BUSINESS_TYPE_CODE;java.lang.String;ACCOUNT;;[Вид діяльності]\r\nCON_TAX_PAYER_CERTIFICATE;java.lang.String;ACCOUNT;;[Серія та № свідоцтва] для контракта с типом (PE)\r\nCON_TAX_SCHEME;java.lang.String;ACCOUNT;;[Схема оподаткування] для контракта с типом (PE) и как [Альтернативна cхема оподаткування] для типа (С)\r\nCON_SETTLEMENT_ACCOUNT;java.lang.String;ACCOUNT;;[Номер розрахункового рахунку] для контракта с типом (PE)\r\nCON_BANK_MFO;java.lang.String;ACCOUNT;;[МФО банку] для контракта с типом (PE)\r\nCON_COMPANY_TYPE;java.lang.String;ACCOUNT;;[Тип компанії] для контракта с типом (PE)\r\nCON_AFFILIATE_NUMBER;java.lang.String;ACCOUNT;;[Номер філії] для контракта с типом (PE) и как [Альтернативний Номер філії] для типа (С)\r\nIBAN;java.lang.String;CUSTOMER;;International Bank Account Number\r\nEMAIL_VERIFIED_ALTER;java.lang.Boolean;ALL;false;Email confirmation by subscriber. Default=[FALSE]\r\nVAT_CODE;java.lang.String;CUSTOMER;;[Індивідуальний податковий номер]\r\nCON_PREFERED_LANGUAGE;java.lang.String;ACCOUNT;;Предпочитаемый язык у контракта\r\nSUBSCRIBER_STATEMENT;java.lang.String;ACCOUNT;;Заявление от абонента\r\nBONUS_50_UAH_COUNTER;java.lang.Integer;CUSTOMER;0;Количество полученных бонусов за пасспортизацию линий\r\nBAS_CONTRACT_TYPE;java.lang.String;ACCOUNT;;\r\nBAS_CUSTOMER_TYPE;java.lang.String;ACCOUNT;;\r\nFIRST_NAME_ALTER;java.lang.String;ALL;;Alternative FIRST_NAME\r\nEDUCATION;java.lang.String;ACCOUNT;;[Освіта]Level of education, such as: Unfinished higher, Secondary, etc.\r\nOCCUPATION;java.lang.String;ACCOUNT;;[Рід занять]Type of job or profession or work position\r\nPHONE_HOME;java.lang.String;ACCOUNT;;Home phone\r\nPHONE_WORK;java.lang.String;ACCOUNT;;Work phone\r\nREGION;java.lang.String;ACCOUNT;;[Область]Administrative territorial unit.\r\nADDRESS;java.lang.String;ACCOUNT;;Street, house number, flat number, etc.\r\nNAME_SAY;java.lang.String;ACCOUNT;;[Просте Ім'я] in contact history.\r\nNAME_TITLE;java.lang.String;ACCOUNT;;[Звернення] in contact history.\r\nSSI_IND_AVAILABLE;java.lang.String;ACCOUNT;;[WEB доступ] in contact history.\r\nSAP_CONTRACT_NO;java.lang.String;ACCOUNT;;\r\nCAMPUS_INVITOR;java.lang.String;ACCOUNT;;User who send invitation to register in CAMPUS\r\nCAMPUS_REFERRALS;java.lang.String;ACCOUNT;;Users which were registered in CAMPUS by referral link\r\nMIGRATION_C2P;java.lang.String;ACCOUNT;;ContractNo migrated from\r\nCONTACT_TYPE;java.lang.String;CUSTOMER;;\r\nPREFERED_LANGUAGE;java.lang.String;CUSTOMER;;[Бажана мова]\r\nPOSITION;java.lang.String;CUSTOMER;;\r\nPHONE_LIFECELL;java.lang.String;CUSTOMER;;\r\nPHONE_OTHER;java.lang.String;CUSTOMER;;\r\nEMAIL;java.lang.String;ALL;;\r\nFAX;java.lang.String;CUSTOMER;;\r\nTAX_SCHEME;java.lang.String;CUSTOMER;;[Схема оподаткування]\r\nTAX_PAYER_CERTIFICATE;java.lang.String;CUSTOMER;;[Серія та № свідоцтва]\r\nAFFILIATE_NUMBER;java.lang.String;CUSTOMER;;[Номер філії]\r\nBANK_MFO;java.lang.String;CUSTOMER;;[МФО банку]\r\nSOCIAL_STATUS;java.lang.String;CUSTOMER;;\r\nCON_DOC_TYPE;java.lang.String;ACCOUNT;;Тип документа у контракта (использовать только для селекта)\r\nBIRTHDAY_ALTER;java.lang.String;ALL;;Alternative BIRTHDAY\r\nGENDER_ALTER;java.lang.String;ALL;;Alternative GENDER\r\nBUSINESS_SEGMENT_CODE;java.lang.Integer;CUSTOMER;;business segment (cm_dict_segment.code)\r\nNUMBER_OF_EMPLOYEES;java.lang.Integer;CUSTOMER;1;Company attribute. Param for evaluation segment (cm_dict_segment_rules.number_of_employees)\r\nANNUAL_TURNOVER;java.lang.String;CUSTOMER;;Company attribute. Year company income. Param for evaluation segment (cm_dict_segment_rules.annual_turnover)\r\nIN_HOLDING;java.lang.Boolean;CUSTOMER;FALSE;Company attribute. True or false\r\n\n## CM_CUSTOMER_TYPE\nNAME_EN;NAME_UA;DESCRIPTION;CODE;PARENT_CODE\r\nKnow customer;Відомий абонент;Know customer;KNOW_CUSTOMER;\r\nIndividual;Індивідуальний;Individual;INDIVIDUAL;\r\nLegal;Юридична особа;Legal;LEGAL;\r\nContact person;Контактна особа;Contact person;CONTACT_PERSON;\r\n\n## CM_DICT_GENDER\nCODE;CODE_UA;CODE_EN;CODE_RU;DESCRIPTION\r\nM;;;;male gender\r\nF;;;;female gender\r\nX;;;;indefinite gender\r\n\n## CM_DICT_REL_TYPE\nCODE;REL_TYPE;REL_TO_TYPE;REL_FROM_TYPE;REL_DURATION;DESCRIPTION\r\n1;CAMPUS_BYF;ACC_CODE;ACC_CODE;;\r\n2;MIGRATION_C2P_PREPARE;ACC_CODE;ACCOUNT_ID;0 00:20:00;This relation mean contract have all obligatory data for saving feature IND_PRE\r\n21;DEBT_MNP_PO;ACC_CODE;MSISDN;;After msisdn mnp port out, create fake contract acc for saving debt and link both\r\n\n## CM_DICT_SEGMENT\nNAME_UA;NAME_EN;NAME_RU;DESCRIPTION;CODE;TYPE_CODE;CODE_NAME\r\nКлючовий крупний клієнт;Key Large Account;Ключевой крупный клиент;;1;1;KLA\r\nКрупний клієнт;Large Account;Крупный клиент;;2;1;LA\r\nСередній бізнес;Middle Business;Средний бизнес;;3;1;MB\r\nМалий бізнес;Small Business;Малый бизнес;;4;1;SB\r\nДомашній/Мікро бізнес;Small Office Home Office;Домашний/Микро бизнес;;5;1;SOHO/MICRO\r\nПартнер;Partner;Партнер;sms bulk реселлеры, ROCH-данный сегмент не формируется автоматически на основании установленных параметров, но может быть установлен Оператором Игуаны;6;1;PARTNER\r\nK (ключевий корпоративний);K (key corporate);K (ключевой корпоративный);;7;2;K\r\nЕ (корпоративний;E (corporate);Е (корпоративный;;8;2;E\r\nS (спільнота);S (спільнота);S (спільнота);;9;2;S\r\n\n## CM_DICT_SEGMENT_RULES\nCODE;NUMBER_OF_EMPLOYEES;ANNUAL_TURNOVER\r\n1;1000;3000000000\r\n2;250;900000000\r\n3;50;75000000\r\n4;10;15000000\r\n5;1;0\r\n6;;\r\n\n## CM_DICT_SEGMENT_TYPE\nDESCRIPTION;CODE;CODE_NAME\r\nIVR segment for line of appropriate Contract (with appropriate Business segment);2;IVR\r\nBusiness segment for client, which will inherit contracts;1;BUSINESS\r\n\n## CM_DICT_SUB_SEGMENT\nCODE;CHILD_CODE;PARENT_CODE\r\n1;7;1\r\n2;8;2\r\n3;8;3\r\n4;8;4\r\n5;8;5\r\n\n## CM_DOCUMENT_TYPE\nPARENT_CODE;DESCRIPTION;IS_SERIES;IS_NUMBER;IS_FOR_CONTRACT;CODE\r\nSTUDENT;Student documents group;;;N;STUDENT\r\nSTUDENT;Student ticket;Y;Y;N;STUDENT_CARD\r\nPASSPORT;Паспорт України;Y;Y;Y;PASSPORT\r\nSTATECODE;ІПН;N;Y;Y;STATECODE\r\nPASSPORT;Foreighn or temporary passport;N;Y;Y;FOREIGHN_TEMPORARY_PASSPORT\r\nPASSPORT;ID-паспорт;N;Y;Y;ID_PASSPORT\r\nPOWER_OF_ATTORNEY;Доверенность;N;Y;N;POWER_OF_ATTORNEY\r\nCERTIFICATE_GROUP;General grouptype for CERTIFICATEs;;;N;CERTIFICATE_GROUP\r\nTRAVEL_DOCS_GROUP;General grouptype for TRAVELING DOCUMENTS;;;N;TRAVEL_DOCS_GROUP\r\nRESIDENCE_PERMISSION_GROUP;General grouptype for RESIDENCE PERMISSION GROUP;;;N;RESIDENCE_PERMISSION_GROUP\r\nDRIVING_LICENSE;Посвідчення водія;Y;Y;N;DRIVING_LICENSE\r\nPASSPORT;Закордонний паспорт;Y;Y;N;FOREIGN_PASSPORT\r\nPASSPORT;Дипломатичний паспорт;N;Y;N;DIPLOMATIC_PASSPORT\r\nPASSPORT;Службовий паспорт;N;Y;N;SERVICE_PASSPORT\r\nTRAVEL_DOCS_GROUP;Проїзний документ біженця;N;Y;N;REFUGEE_TRAVEL_DOCUMENT\r\nTRAVEL_DOCS_GROUP;Проїзний особи з додатковим захистом;N;Y;N;PROTECTED_PERSON_TRAVEL_DOCUMENT\r\nRESIDENCE_PERMISSION_GROUP;Посвідка на постійне проживання;N;Y;N;PERMANENT_RESIDENCE_PERMIT\r\nRESIDENCE_PERMISSION_GROUP;Посвідка на тимчасове проживання;N;Y;N;TEMPORARY_RESIDENCE_PERMIT\r\nCERTIFICATE_GROUP;Посвідчення біженця;N;Y;N;REFUGEE_CERTIFICATE\r\nCERTIFICATE_GROUP;Картка мігранта;N;Y;N;MIGRANT_CARD\r\nCERTIFICATE_GROUP;Посвідчення моряка;N;Y;N;SEAMAN_CERTIFICATE\r\nCERTIFICATE_GROUP;Посвідчення члена екіпажу;N;Y;N;CREW_MEMEBER_CERTIFICATE\r\nCERTIFICATE_GROUP;Посвідчення на повернення в Україну;N;Y;N;RETURN_UKRAINE_CERTIFICATE\r\nCERTIFICATE_GROUP;Тимчасове посвідчення ;N;Y;N;TEMPORARY_CERTIFICATE\r\nCERTIFICATE_GROUP;Посвідчення особи без громадянства;N;Y;N;STATELESS_PERSON_CERTIFICATE\r\nCERTIFICATE_GROUP;Посвідчення на додатковий захист;N;Y;N;PROTECTED_PERSON_CERTIFICATE\r\nELF_DOC_GROUP;ZayavaReyestrFizychnaОsoba;Y;Y;N;APPLICATION_FOR_REGISTRATION_IND\r\nELF_DOC_GROUP;ZayavaReyestrYurydychnaОsoba;Y;Y;N;APPLICATION_FOR_REGISTRATION_LEG\r\nELF_DOC_GROUP;POA – Power of Attorney;Y;Y;N;POWER_OF_ATTORNEY_ELFDOC\r\nELF_DOC_GROUP;Заявы и сканы документов, которые сохраняются на ЕЛЬФ-Доке;;;N;ELF_DOC_GROUP\r\nELF_DOC_GROUP;Заявление от абонента;;;N;SUBSCRIBER_STATEMENT\r\nELF_DOC_GROUP;;Y;Y;N;PASSPORT_ELFDOC\r\nELF_DOC_GROUP;;Y;Y;N;ID_PASSPORT_ELFDOC\r\nELF_DOC_GROUP;;Y;Y;N;DRIVING_LICENSE_ELFDOC\r\nELF_DOC_GROUP;;Y;Y;N;FOREIGN_PASSPORT_ELFDOC\r\nELF_DOC_GROUP;;Y;Y;N;OTHER_ELFDOC\r\n\n## CM_HST_OP_TYPE\nHST_CATEGORY;NAME_UA;NAME_EN;DESCRIPTION;OP_TYPE\r\n;Редагування;Edit;;U\r\nACCOUNT;Збереження контактної інформації;Save contact info;При удалении клиента или отлинковки аккаунта собираем всю инфу как know_customer и сохраняем аккаунту;SAVE_KC\r\nACCOUNT;Прилінкова до іншого клієнта;Link to another client;;RELINK\r\nACCOUNT;Редагування атрибутів аккаунта;Edit account attributes;;U_ATTR\r\nACCOUNT;Редагування аккаунта;Edit account entity;;U_ACC\r\nACCOUNT;Видалення;Delete;;D\r\nACCOUNT;Додавання нової інформації;Adding new information;;I\r\n;Тимчасовий запис;TMP row;;F\r\n;Редагування aльтернативних атрибутів;Edit alternative attributes;;U_A_ALTER\r\n;Редагування;Edit;;U_BY_RELINK\r\nACCOUNT;;;;UNLINK\r\nACCOUNT;;;;LINK\r\nACCOUNT;Редагування і зміна клієнта;Edit and change client;;U_RELINK\r\nCUSTOMER;Редагування атрибутів клієнта;Edit client attributes;;U_ATTR_CL\r\n\n\"\"\""`
